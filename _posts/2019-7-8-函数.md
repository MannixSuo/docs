---
title: 函数
tags: C语言
layout: posts
---

形式参数是被调用函数中的变量
实际参数是主调函数赋给被调用函数的具体值。
函数声明int function(int a,int b);中a和b是假名，在实际函数中可以不一样。int function(int,int);也行。
递归与循环相比可能会消耗更大的内存
gcc file1.c file2.c 编译两个文件生成一个可执行文件
gcc file1.c file2.o 如果file1改变file2不改变 可以直接用编译后的file2.o文件
使用不同文件中的函数也要使用函数原型。
把函数原型和已知的字符串常量放在头文件中是个好的编程习惯。

```c
#include "hotel.h" //双引号表明被包含的文件在当前目录中
```

指针是一个值为内存地址的变量

*称为间接运算符(indirection operator)也称为解引用运算符

```c
ptr=&bsh;//ptr指向bsh的地址
val=*ptr;//ptr指向的值
//上面两句在一起相当于val=bsh
```

```c
// 声明指针时要指明指针所指向的数据类型
int *pi;
char *pc;
float *pf,*pg;
```

### 复习题

1. 实际参数和形式参数的区别是什么？

    形式参数是被调用函数中的变量
    实际参数是主调函数赋给被调用函数的具体值。

2. 根据下列各项描述写出他们的ANSI C函数头

    1. donut()接收一个int类型的参数打印若干个0 //void donut(int a);
    2. gear()接收两个int类型的参数返回int //int gear(int a,int b);
    3. guess()不接受参数返回一个int //int guess(void);
    4. stuff_it()接收一个double了下的值和double类型变量的地址,把第一个值存储在指定位置 //void stuff_it(double a,double *dp)

3. 根据下列各项描述写出他们的ANSI C函数头

    1. n_to_char()接收一个int返回一个char //char n_to_char(int n);
    2. digit()接收一个double和一个int 返回一个int //int digit(double d,int i);
    3. which()接收两个可存储double类型变量的地址，返回一个double类型的地址 
    //double * which(double *a,double *b);
    4. random()不接受参数 返回int类型的值//int random(void);

4. 设计一个函数 返回两个整数之和

    ```c
    int sum(int a,int b)
    {
        return a+b;
    }
    ```

5. 将4修改成两个double之和

    ```c
    double sum(double a,double b)
    {
        return a+b;
    }
    ```

6. 设计一个名为alter()的函数，接收两个int类型的变量x和y把他们的值分别改成两个变量之和和两个变量只差

    ```c
    void alter(int *sum,int *sub)
    {
        *sum = *sum+*sub;
        *sub = *sum-*sub*2;
    }
    ```

7. 下面的函数定义是否正确？

    ```c
    void salami(int num)
    {
        int count;
        for(count=1;count<num;count++)
            printf("O salami mio!\n");
    }
    ```

8. 编写一个函数返回三个整数参数中的最大值

    ```c
    int max(int a,int b,int c)
    {
        if(a>b)
        {
            if(a>c)
            {
                return a;
            }
            else
            {
                return c;
            }
        }
        else
        {
            if(b>c)
            {
                return b;
            }
            else
            {
                return c;
            }
        }
    }
    ```

9. 给定下面的输出：
    Please choose one of the following:
    1) copy files   2) move files
    3) remove files 4) quit
    Enter the number of your choice:
    1. 编写一个函数显示一份有4个选项的菜单，提供给用户进行选择。
    2. 编写一个函数，接收两个int类型的参数分别表示上限和下限该函数从用户的输入中读取整数如果超出规定的上下限再次打印菜单，提示用户重新输入。如果输入在规定范围内该函数吧该整数返回到主调函数内如果用户输入一个非整数字符，返回4
    3. 使用本题a和b部分的函数编写一个最小型的程序。

    ```C
    #include <stdio.h>
    int main(void)
    {
        int result;
        print_menu();
        result = get_user_input(4,1);
        printf("get user input success:%d",result);
        return 0;
    }
    void print_menu()
    {
        printf("Please choose one of the following:\n");
        printf(" 1)  copy files    2)  move files\n");
        printf(" 3) remove files   4)  quit\n");
    }
    int get_user_input(int max,int min)
    {
        int input;
        if(scanf("%d",&input)!=0)
        {
            if(input>max||input<min)
            {
                printf("Wrong number! please try again.\n");
                print_menu();
                return get_user_input(max,min);
            }
            else
            {
                return input;
            }
        }
        else
        {
            return 4;
        }
    }
    ```
