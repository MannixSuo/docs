---
title: 函数，运算符和表达式
tags: C语言
layout: posts
---

类型升级：short会自动转换成int，float会自动转换成double

类型降级：类型降级时超过的位将会被忽略，比如char ch = 1107 但是char是8位因此ch的实际值就是1107 % 256=83

强制类型转换 (type) value

函数使用前需要在开头处声明  返回值类型 函数名（参数类型 参数）参数传给函数的时候会根据括号里面的参数类型进行类型升级或者降级。

### 复习题

1. 假设所有变量类型都是int 下面表达式的值是多少？

    1. x =(2+3)*6 //30
    2. x=(12+6)/2*3 //27
    3. y=x=(2+3)/4 //1
    4. y=3+2*(x=7/2); //9

2. 假设所有变量类型都是int 下面表达式的值是多少？

    1. x=(int)3.8+3.3 //6
    2. x=(2+3)*10.5 //52
    3. x=3/5*22.0 //0
    4. x=22.0*3/5 //15

3. 对下列各表达式求值

    1. 30.0/4.0*5.0 //37.5
    2. 30.0/(4.0*5.0) //1.5
    3. 30/4*5 //35
    4. 30*5/4 //37
    5. 30/4.0*5 //37.5
    6. 30/4*5.0 //35.0

4. 请找出下列程序中的错误

    ```c
    #include <stdio.h>
    int main(void)
    {
        int i = 1;
        float n;
        printf("Watch out! Here come a bunch of fractions!\n");
        while(i<30)
        {
            n = 1/i;
            printf(" %f",n);
        }
        printf("That's all, folks!\n");
        return 0;
    }
    ```

5. 找出不如原版之处

    1. #define 不如const
    2. min 应该为浮点类型 更精确
    3. 程序最后输入0不会退出 还会执行一次

6. 下面的程序将打印什么内容？

    ```C
    %s! C is cool!
    ! C is cool!

    11
    11
    12
    11
    ```

7. 下面的程序将打印什么

    ```c
    SOS:4   4.00

    ```

8. 下面的程序将打印什么

    ```c
        1
        2
        3
        4
        5
        6
        7
        8
        9
       10
    ```

9. 修改上一个程序 打印字母a-g

    ```c
    #include <stdio.h>
    int main(void)
    {
        char current = 'a';
        while(current<='g')
        {
            printf("%c\n",current);
            current++;
        }
        return 0;
    }
    ```

10. 假设下面是完整程序中的一部分，他们分别打印什么？

    ```c
    a.
    int x = 0;
    while(++x<3)
        printf("%4d",x);
    //   1   2
    b.
    int x = 100;
    while(x++<103)
        printf("%4d",x);
        printf("%4d",x);
    // 101 102 103 104
    c.
    char ch = 's';
    while(ch<'w')
    {
        printf("%c",ch);
        ch++;
    }
    printf("%c\n",ch);
    //stuvw
    ```

11. 下面的层序会打印出什么

    ```c
    #define MESG "COMPUTER BYTES DOG"
    #include <stdio.h>
    int main(void)
    {
        int n = 0;
        while(n<5)
            printf("%s\n",MESG);
            n++;
        printf("That's all.\n");
        return0;
    }
    //COMPUTER BYTES DOG
    //COMPUTER BYTES DOG
    //...
    ```

12. 分别编写一条语句，完成下列各项任务

    1. 将变量x增加10 x+=10;
    2. 将变量x增加1
    3. 将a与b之和的两倍赋给c c=（a+b）*2
    4. 将a与b的两倍之和赋给c c=a+b*2

13. 分别编写一条语句，完成下列各项任务

    1. 将变量x减少1 x=x-1
    2. n除以k的余数赋给m m=n%k
    3. q除以b减去a 将结果赋给p p=q/b-a
    4. a与b之和除以c与d的乘积，结果赋给x x=(a+b)/(c*d)

